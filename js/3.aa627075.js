(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"1d29":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"container",attrs:{padding:""}},[a("div",{staticClass:"row q-gutter-y-md"},[a("div",{staticClass:"col-12 "},[a("nav-bar",{on:{pesquisar:t.pesquisar,exportExcel:t.exportExcel,exportCsv:t.exportCsv,exportXml:t.exportXml}})],1),a("div",{staticClass:"col-12"},[a("q-card",{staticClass:"my-card "},[a("q-card-section",[t.load?a("div",[t.lisCountries.length?a("div",{staticClass:"row q-gutter-md justify-center"},t._l(t.lisCountries,(function(t,e){return a("card-country",{key:e,staticClass:"col-12 col-md-2  ",attrs:{country:t}})})),1):a("div",{staticClass:"text-h6 text-center"},[t._v("Não encontrado")])]):a("div",{staticClass:"row  q-gutter-md q-pa-md justify-center"},t._l(30,(function(t){return a("div",{key:t,staticClass:"col-md-2 col-12"},[a("skeleton")],1)})),0),a("div",{staticClass:"q-pa-lg flex flex-center"},[a("q-pagination",{attrs:{max:t.totalPage},on:{input:function(e){return t.loadPage()}},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}})],1)])],1)],1)])])},o=[],s=a("ded3"),n=a.n(s),r=(a("2b3d"),a("ddb0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"q-gutter-md q-mb-md "},[a("q-card",{staticClass:"my-card bg-grey-3"},[a("q-card-section",{staticClass:"row q-gutter-md justify-center"},[a("div",{staticClass:"col-12 col-md-2 col-sm-12"},[a("q-btn",{staticClass:"full-width ",attrs:{color:"teal"},on:{click:function(e){return t.show(!0)}}},[a("q-icon",{attrs:{left:"",size:"3.4em",name:"file_upload"}}),a("div",[t._v("Exportar")])],1)],1),a("div",{staticClass:"col-12 col-md-6 col-sm-12 "},[a("q-input",{attrs:{filled:"","bottom-slots":"",label:"pesquisar",counter:"",maxlength:"24",dense:t.dense},on:{input:function(e){return t.search()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.pesquisar(e)}},scopedSlots:t._u([{key:"append",fn:function(){return[""!==t.text?a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){t.text=""}}}):t._e(),a("q-icon",{attrs:{name:"search"},on:{click:t.pesquisar}})]},proxy:!0},{key:"hint",fn:function(){return[t._v("\n         pesquisar por name, capital\n       ")]},proxy:!0}]),model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),a("div",{staticClass:"col-12 col-md-3  col-sm-12"},[a("q-select",{attrs:{color:"secondary",outlined:"",options:t.options,label:"Região"},on:{input:t.seachByRegion},model:{value:t.region,callback:function(e){t.region=e},expression:"region"}})],1)])],1)],1)])}),c=[],l=a("f2d9"),p={components:[l["a"]],data(){return{text:"",region:"Todas",dense:!1,options:["Todas","Africa","Americas","Asia","Europe","Oceania"]}},methods:{pesquisar(){this.$emit("pesquisar",{text:this.text,region:this.region})},search(){""!==this.text&&" "!==this.text||this.pesquisar()},seachByRegion(){this.$emit("pesquisar",{text:this.text,region:this.region})},show(t){this.$q.bottomSheet({message:"Exportar para",dark:!0,grid:t,actions:[{label:"XLS",img:"https://firebasestorage.googleapis.com/v0/b/bandbook-fc051.appspot.com/o/xls.jpg?alt=media&token=12626c2d-dac1-405e-850b-fe61efe1f32c",id:"xls"},{label:"CSV",img:"https://firebasestorage.googleapis.com/v0/b/bandbook-fc051.appspot.com/o/transferir.jpg?alt=media&token=6d01c1c8-ceb4-420b-8300-9eb27397ff1f",id:"csv"},{label:"XML",img:"https://firebasestorage.googleapis.com/v0/b/bandbook-fc051.appspot.com/o/xml.png?alt=media&token=836d9aea-6ac7-4844-91cd-7804b7726b3c",id:"xml"},{}]}).onOk((t=>{"xls"===t.id?this.$emit("exportExcel"):"csv"===t.id?this.$emit("exportCsv"):this.$emit("exportXml")})).onCancel((()=>{})).onDismiss((()=>{}))}}},d=p,m=a("2877"),u=a("f09f"),h=a("a370"),g=a("9c40"),q=a("0016"),f=a("27f9"),b=a("ddd8"),v=a("eebe"),x=a.n(v),y=Object(m["a"])(d,r,c,!1,null,null,null),C=y.exports;x()(y,"components",{QCard:u["a"],QCardSection:h["a"],QBtn:g["a"],QIcon:q["a"],QInput:f["a"],QSelect:b["a"]});var _=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-card",{staticClass:"my-card",attrs:{flat:"",bordered:""}},[a("div",{staticClass:"col-12"},[a("q-img",{staticStyle:{height:"200px"},attrs:{src:t.country.flag}},[a("div",{staticClass:"absolute-top text-center text-subtitle1"},[t._v("\n          "+t._s(t.country.name)+"\n        ")])])],1),a("q-card-section",[a("div",{staticClass:"text-overline text-orange-9"},[t._v(t._s(t._f("isEmpty")(t.country.region)))]),a("q-list",[a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"primary",name:"flag"}})],1),a("q-item-section",[a("q-item-label",[t._v("Capital")]),a("q-item-label",{attrs:{caption:""}},[t._v(t._s(t._f("isEmpty")(t.country.capital)))])],1)],1),a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"primary",name:"groups"}})],1),a("q-item-section",[a("q-item-label",[t._v("População")]),a("q-item-label",{attrs:{caption:""}},[t._v(t._s(t._f("isEmpty")(t.country.population))+" ")])],1)],1)],1)],1),a("q-card-actions",{staticStyle:{"background-color":"black"}},[a("q-btn",{attrs:{flat:"",loading:t.loading,color:"secondary",icon:"info",label:"Detalhes"},on:{click:function(e){t.card=!0}}}),a("q-space")],1)],1),a("q-dialog",{model:{value:t.card,callback:function(e){t.card=e},expression:"card"}},[a("q-card",{staticClass:"my-card"},[a("q-img",{staticStyle:{width:"400px"},attrs:{src:t.country.flag}}),a("q-card-section",[a("q-list",[a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"primary",name:"flag"}})],1),a("q-item-section",[a("q-item-label",[t._v("Nome nativo")]),a("q-item-label",{attrs:{caption:""}},[t._v(t._s(t._f("isEmpty")(t.country.nativeName)))])],1)],1),a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"primary",name:"flag"}})],1),a("q-item-section",[a("q-item-label",[t._v("Sub-região")]),a("q-item-label",{attrs:{caption:""}},[t._v(t._s(t._f("isEmpty")(t.country.subregion)))])],1)],1),a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"primary",name:"flag"}})],1),a("q-item-section",[a("q-item-label",[t._v("Aréa")]),a("q-item-label",{attrs:{caption:""}},[t._v(t._s(t._f("isEmpty")(t.country.area)))])],1)],1),a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"primary",name:"flag"}})],1),a("q-item-section",[a("q-item-label",[t._v("Fuso horário")]),a("q-item-label",{attrs:{caption:""}},[t._v(t._s(t._f("isEmpty")(t.country.timezones[0])))])],1)],1)],1)],1),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",color:"primary",label:"Fechar"}})],1)],1)],1)],1)},k=[],Q={props:["country"],data(){return{loading:!1,card:!1}},methods:{info(){}},filters:{isEmpty(t){return""===t||0===t?"Vazio":t}}},E=Q,w=a("068f"),S=a("1c1c"),j=a("66e5"),L=a("4074"),O=a("0170"),R=a("4b7e"),$=a("2c91"),I=a("24e8"),A=a("eb85"),P=a("7f67"),B=Object(m["a"])(E,_,k,!1,null,null,null),T=B.exports;x()(B,"components",{QCard:u["a"],QImg:w["a"],QCardSection:h["a"],QList:S["a"],QItem:j["a"],QItemSection:L["a"],QIcon:q["a"],QItemLabel:O["a"],QCardActions:R["a"],QBtn:g["a"],QSpace:$["a"],QDialog:I["a"],QSeparator:A["a"]}),x()(B,"directives",{ClosePopup:P["a"]});var U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("q-card",[a("q-skeleton",{attrs:{height:"200px",square:""}}),a("q-item",[a("q-item-section",[a("q-item-label",[a("q-skeleton",{attrs:{type:"text"}})],1),a("q-item-label",{attrs:{caption:""}},[a("q-skeleton",{attrs:{type:"text"}})],1)],1)],1),a("q-card-actions",{staticClass:"q-gutter-md",attrs:{align:"left"}},[a("q-skeleton",{attrs:{type:"QRadio"}}),a("q-skeleton",{attrs:{type:"QRadio"}}),a("q-skeleton",{attrs:{type:"QRadio"}})],1)],1)],1)},X=[],N=a("293e"),z={},D=Object(m["a"])(z,U,X,!1,null,null,null),V=D.exports;x()(D,"components",{QCard:u["a"],QSkeleton:N["a"],QItem:j["a"],QItemSection:L["a"],QItemLabel:O["a"],QCardActions:R["a"]});var F=a("2f62"),J={components:{NavBar:C,CardCountry:T,Skeleton:V},mounted(){this.loadCountries()},data(){return{current:1,load:!1,text:"",region:"Todas",totalPage:0,init:0,end:50}},computed:n()(n()({},Object(F["c"])("country",["countries"])),{},{lisCountries(){return console.log("ddd"),""===this.text&&"Todas"===this.region?this.countries.slice(this.init,this.end):""===this.text&&"Todas"!==this.region?this.countries.filter((t=>t.region===this.region)):""!==this.text&&"Todas"===this.region?this.countries.filter((t=>t.name.includes(this.text))):this.countries.filter((t=>t.name.includes(this.text)&&t.region===this.region))}}),methods:n()(n()({},Object(F["b"])("country",["setCountries"])),{},{exportExcel(){var t="",e=[];this.countries.forEach((t=>{e.push({name:t.name,capital:t.capital,region:t.region,population:t.population})})),e.forEach(((e,a)=>{let i=e.name+"\t";i+=e.capital+"\t",i+=e.region+"\t",i+=e.population,t+=a<this.countries.length?i+"\n":i}));const a=URL.createObjectURL(new Blob([t],{type:"application/vnd.ms-excel"})),i=document.createElement("a");i.href=a,i.setAttribute("download","paises"),document.body.appendChild(i),i.click()},exportCsv(){var t="",e=[];this.countries.forEach((t=>{e.push({name:t.name,capital:t.capital,region:t.region,population:t.population})})),e.forEach(((e,a)=>{let i=e.name+",";i+=e.capital+",",i+=e.region+",",i+=e.population,t+=a<this.countries.length?i+"\n":i}));const a=URL.createObjectURL(new Blob([t],{type:"text/csv;charset=utf-8;"})),i=document.createElement("a");i.href=a,i.setAttribute("download","paises.csv"),document.body.appendChild(i),i.click()},exportXml(){var t="",e=[];this.countries.forEach((t=>{e.push({name:t.name,capital:t.capital,region:t.region,population:t.population})})),e.forEach(((e,a)=>{let i="<pais>\n<nome> "+e.name+"</nome>\n";i+="<capital>"+e.capital+"</capital>\n",i+="<regiao>"+e.region+"</regiao>\n",i+="<populacao>"+e.population+"</populacao>",t+=a<this.countries.length?i+"\n":i}));const a=URL.createObjectURL(new Blob([t],{type:"text/plain"})),i=document.createElement("a");i.href=a,i.setAttribute("download","paises.xml"),document.body.appendChild(i),i.click()},loadPage(){this.init=50*(this.current-1),this.end=50*this.current},pesquisar(t){this.region=t.region,this.text=t.text},loadCountries(){this.setCountries().then((t=>{this.totalPage=Math.ceil(t.length/50),this.load=!0,this.$q.notify({message:"Veja informações de varíos países",color:"primary",multiLine:!0,icon:"sentiment_satisfied_alt",actions:[{label:"fechar",color:"yellow",handler:()=>{}}]})})).catch((t=>{this.$q.loading.hide(),console.log(t)}))}})},M=J,G=a("9989"),H=a("3b16"),K=Object(m["a"])(M,i,o,!1,null,null,null);e["default"]=K.exports;x()(K,"components",{QPage:G["a"],QCard:u["a"],QCardSection:h["a"],QPagination:H["a"]})}}]);